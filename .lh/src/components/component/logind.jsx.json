{
    "sourceFile": "src/components/component/logind.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1732065953941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1732154149944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,122 @@\n+\"use client\";\n+import { useState } from 'react';\n+import { useRouter } from 'next/navigation';\n+import { useAuth } from '../../lib/AuthContext'; // Importa el contexto de autenticación\n+\n+export default function Logind() {\n+  const router = useRouter();\n+  const { login } = useAuth(); // Obtén el método login del contexto\n+  const [error, setError] = useState('');\n+\n+  const onSubmit = async (e) => {\n+    e.preventDefault();\n+    const email = e.target.email.value;\n+    const password = e.target.password.value;\n+\n+    try {\n+      const res = await fetch('http://localhost:3001/signin', {\n+        method: 'POST',\n+        headers: {\n+          'Content-Type': 'application/json'\n+        },\n+        body: JSON.stringify({ email, password })\n+      });\n+\n+      if (!res.ok) {\n+        const errorData = await res.json();\n+        setError(errorData.message || 'Error en la respuesta del servidor');\n+        return;\n+      }\n+\n+      const data = await res.json(); // Define y maneja `data`\n+\n+      if (data.token) {\n+        login(data.token); // Llama al método login del contexto\n+        router.push('/profile'); // Redirige a la página de perfil\n+      } else {\n+        setError('No se recibió token');\n+      }\n+    } catch (error) {\n+      setError('Error durante el inicio de sesión');\n+    }\n+  };\n+\n+  return (\n+    <div className=\"flex h-screen w-full items-center justify-center bg-gradient-to-b from-[#1a1a2e] to-[#16213e]\">\n+      <div className=\"flex h-[600px] w-full max-w-[1200px] items-center justify-between rounded-[8px] bg-white\">\n+        <div className=\"hidden h-full w-1/2 items-center justify-center rounded-l-lg bg-gradient-to-br from-[#5f4b8b] to-[#4361ee] md:flex\">\n+          <div className=\"relative h-[80%] w-[80%]\">\n+          <div className=\"relative h-[80%] w-[80%]\">\n+            <div className=\"absolute top-0 left-0 h-[50px] w-[50px] rounded-[40px] bg-[#4361ee]\" />\n+            <div className=\"absolute top-[20%] left-[20%] h-[100px] w-[100px] rounded-[80px]  bg-[#5f4b8b]\" />\n+            <div className=\"absolute bottom-[10%] right-[%] h-[80px] w-[80px] rounded-[40px] bg-[#4361ee]\" />\n+            <div className=\"absolute top-[50%] left-[85%] h-[150px] w-[150px] rounded-[100px] bg-[#5f4b8b]\" />\n+            <div className=\"absolute top-[80%] left-[25%] h-[60px] w-[60px] rounded-[40px] bg-[#4361ee]\" />\n+            <div className=\"absolute bottom-[20%] right-[40%] h-[90px] w-[90px] rounded-[100px] bg-[#5f4b8b]\" />\n+          </div>\n+          </div>\n+        </div>\n+        \n+        <div className=\"flex h-full w-full flex-col items-center justify-center rounded-r-lg px-8 md:w-1/2 bg-gradient-to-br from-[white] to-[white] md:flex\">\n+          <h2 className=\"mb-8 text-3xl font-bold text-[#16213e] md:text-4xl\">Login</h2>\n+          <form className=\"flex w-full flex-col items-start justify-center gap-4\" onSubmit={onSubmit}>\n+            <div className=\"flex w-full flex-col items-start justify-between gap-2\">\n+              <label htmlFor=\"email\" className=\"text-sm font-medium text-[#1a1a2e]\">\n+                Email\n+              </label>\n+              <input\n+                type=\"text\"\n+                id=\"email\"\n+                placeholder=\"Enter your Email\"\n+                className=\"w-full rounded-lg border border-[#e0e0e0] px-4 py-2 text-[#1a1a2e] focus:border-[#4361ee] focus:outline-none\"\n+              />\n+            </div>\n+            <div className=\"flex w-full flex-col items-start justify-between gap-2\">\n+              <label htmlFor=\"password\" className=\"text-sm font-medium text-[#1a1a2e]\">\n+                Password\n+              </label>\n+              <input\n+                type=\"password\"\n+                id=\"password\"\n+                placeholder=\"Enter your password\"\n+                className=\"w-full rounded-lg border border-[#e0e0e0] px-4 py-2 text-[#1a1a2e] focus:border-[#4361ee] focus:outline-none\"\n+              />\n+            </div>\n+            <div className=\"flex w-full items-center justify-between\">\n+              <div className=\"flex items-center gap-2\">\n+                <input\n+                  type=\"checkbox\"\n+                  id=\"remember\"\n+                  className=\"h-4 w-4 rounded-lg border-[#e0e0e0] bg-[#f5f5f5] text-[#4361ee] focus:ring-[#4361ee]\"\n+                />\n+                <label htmlFor=\"remember\" className=\"text-sm font-medium text-[#1a1a2e]\">\n+                  Remember me\n+                </label>\n+              </div>\n+              <a href=\"#\" className=\"text-sm font-medium text-[#4361ee] hover:underline\">\n+                Forgot password?\n+              </a>\n+            </div>\n+            <button\n+              type=\"submit\"\n+              className=\"mt-4 w-full rounded-lg bg-[#4361ee] py-2 text-center text-base font-medium text-white hover:bg-[#5f4b8b]\"\n+            >\n+              LOGIN\n+            </button>\n+          </form>\n+          {error && <p className=\"text-red-500 mt-4 text-[#191970]\">{error}</p>} {/* Mostrar error si hay */}\n+          <p className=\"mt-4 text-sm text-[#1a1a2e]\">\n+            ¿No tienes una cuenta?{' '}\n+            <a href=\"/register\" className=\"text-[#4361ee] hover:underline\">\n+              Regístrate aquí\n+            </a>\n+          </p>\n+        </div>\n+      </div>\n+    </div>\n+  );\n+}\n+\n+\n+\n+\n"
                }
            ],
            "date": 1732065953941,
            "name": "Commit-0",
            "content": "\"use client\";\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../../lib/AuthContext'; // Importa el contexto de autenticación\n\nexport default function Logind() {\n  const router = useRouter();\n  const { login } = useAuth(); // Obtén el método login del contexto\n  const [error, setError] = useState('');\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const email = e.target.email.value;\n    const password = e.target.password.value;\n\n    try {\n      const res = await fetch('https://rwggxws5-3001.brs.devtunnels.ms//signin', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n      });\n\n      if (!res.ok) {\n        const errorData = await res.json();\n        setError(errorData.message || 'Error en la respuesta del servidor');\n        return;\n      }\n\n      const data = await res.json(); // Define y maneja `data`\n\n      if (data.token) {\n        login(data.token); // Llama al método login del contexto\n        router.push('/profile'); // Redirige a la página de perfil\n      } else {\n        setError('No se recibió token');\n      }\n    } catch (error) {\n      setError('Error durante el inicio de sesión');\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen w-full items-center justify-center bg-gradient-to-b from-[#1a1a2e] to-[#16213e]\">\n      <div className=\"flex h-[600px] w-full max-w-[1200px] items-center justify-between rounded-[8px] bg-white\">\n        <div className=\"hidden h-full w-1/2 items-center justify-center rounded-l-lg bg-gradient-to-br from-[#5f4b8b] to-[#4361ee] md:flex\">\n          <div className=\"relative h-[80%] w-[80%]\">\n          <div className=\"relative h-[80%] w-[80%]\">\n            <div className=\"absolute top-0 left-0 h-[50px] w-[50px] rounded-[40px] bg-[#4361ee]\" />\n            <div className=\"absolute top-[20%] left-[20%] h-[100px] w-[100px] rounded-[80px]  bg-[#5f4b8b]\" />\n            <div className=\"absolute bottom-[10%] right-[%] h-[80px] w-[80px] rounded-[40px] bg-[#4361ee]\" />\n            <div className=\"absolute top-[50%] left-[85%] h-[150px] w-[150px] rounded-[100px] bg-[#5f4b8b]\" />\n            <div className=\"absolute top-[80%] left-[25%] h-[60px] w-[60px] rounded-[40px] bg-[#4361ee]\" />\n            <div className=\"absolute bottom-[20%] right-[40%] h-[90px] w-[90px] rounded-[100px] bg-[#5f4b8b]\" />\n          </div>\n          </div>\n        </div>\n        \n        <div className=\"flex h-full w-full flex-col items-center justify-center rounded-r-lg px-8 md:w-1/2 bg-gradient-to-br from-[white] to-[white] md:flex\">\n          <h2 className=\"mb-8 text-3xl font-bold text-[#16213e] md:text-4xl\">Login</h2>\n          <form className=\"flex w-full flex-col items-start justify-center gap-4\" onSubmit={onSubmit}>\n            <div className=\"flex w-full flex-col items-start justify-between gap-2\">\n              <label htmlFor=\"email\" className=\"text-sm font-medium text-[#1a1a2e]\">\n                Email\n              </label>\n              <input\n                type=\"text\"\n                id=\"email\"\n                placeholder=\"Enter your Email\"\n                className=\"w-full rounded-lg border border-[#e0e0e0] px-4 py-2 text-[#1a1a2e] focus:border-[#4361ee] focus:outline-none\"\n              />\n            </div>\n            <div className=\"flex w-full flex-col items-start justify-between gap-2\">\n              <label htmlFor=\"password\" className=\"text-sm font-medium text-[#1a1a2e]\">\n                Password\n              </label>\n              <input\n                type=\"password\"\n                id=\"password\"\n                placeholder=\"Enter your password\"\n                className=\"w-full rounded-lg border border-[#e0e0e0] px-4 py-2 text-[#1a1a2e] focus:border-[#4361ee] focus:outline-none\"\n              />\n            </div>\n            <div className=\"flex w-full items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"remember\"\n                  className=\"h-4 w-4 rounded-lg border-[#e0e0e0] bg-[#f5f5f5] text-[#4361ee] focus:ring-[#4361ee]\"\n                />\n                <label htmlFor=\"remember\" className=\"text-sm font-medium text-[#1a1a2e]\">\n                  Remember me\n                </label>\n              </div>\n              <a href=\"#\" className=\"text-sm font-medium text-[#4361ee] hover:underline\">\n                Forgot password?\n              </a>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"mt-4 w-full rounded-lg bg-[#4361ee] py-2 text-center text-base font-medium text-white hover:bg-[#5f4b8b]\"\n            >\n              LOGIN\n            </button>\n          </form>\n          {error && <p className=\"text-red-500 mt-4 text-[#191970]\">{error}</p>} {/* Mostrar error si hay */}\n          <p className=\"mt-4 text-sm text-[#1a1a2e]\">\n            ¿No tienes una cuenta?{' '}\n            <a href=\"/register\" className=\"text-[#4361ee] hover:underline\">\n              Regístrate aquí\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n\n"
        }
    ]
}